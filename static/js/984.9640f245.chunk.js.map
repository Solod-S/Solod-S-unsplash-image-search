{"version":3,"file":"static/js/984.9640f245.chunk.js","mappings":"4RASaA,EAAc,CACzBC,SAAU,cACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,G,6BCfCC,EAAWC,EAAAA,GAAAA,EAAH,sKASRC,EAAaD,EAAAA,GAAAA,IAAH,4H,UCgGvB,MAvFA,WACE,IAAQE,EAAaC,EAAAA,EAAAA,SAEfC,GAAWC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,QAAV,IAC5BG,GAAYF,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAME,KAAV,IACnC,GAA0BC,EAAAA,EAAAA,WAAS,GAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,MARK,8CAkBtB,iBAEiBC,EAFjB,iIAEE,WAAqBC,GAArB,8FAC+BjB,EAASkB,QAAQD,GADhD,cACQE,EADR,gBAEuBA,EAAeC,KAFtC,cAEQV,EAFR,yBAGSA,GAHT,2CAFF,yBAEiBM,EAFjB,4CACEH,GAAa,GADf,kBAQuBQ,QAAQC,IAAIpB,EAASqB,IAAT,yCAAa,WAAMC,GAAN,+FAAYR,EAAMQ,IAAlB,2CAAb,wDARnC,cAQUC,EARV,gBAS+BA,EAAKF,KAC9B,kBAAiD,CAC/CC,GADF,EAAGA,GAEDE,KAFF,EAAOA,KAGLC,gBAHF,EAAaA,gBAIXC,MAJF,EAA8BA,MAK5BC,KALF,EAAqCA,KAArC,IAVN,cASUC,EATV,iBAkBUnB,EAAUmB,GAlBpB,QAmBIjB,GAAa,GAnBjB,kDAqBIkB,QAAQC,IAAR,qMACAC,EAAAA,GAAAA,KAAW,sNAA6C7C,GACxDqB,EAAS,EAAD,IAvBZ,0DAlBsB,wBAiDtB,OALAyB,EAAAA,EAAAA,YAAU,YA5CY,mCA6CpBC,EAED,GAAE,CAACjC,KAGF,UAACH,EAAD,YACE,SAAC,KAAD,CACEqC,WAAYC,EAAAA,GACZC,MAAM,OACNjD,SAAS,eACTC,UAAW,IACXC,iBAAiB,EACjBgD,aAAa,EACb/C,cAAY,EACZgD,KAAK,EACLC,kBAAgB,EAChB/C,WAAW,EACXD,cAAY,IAEbe,IACC,SAACX,EAAD,4DAEDa,EAAOgC,OAAS,IACf,SAACC,EAAA,EAAD,CACEjC,OAAQA,EACRkC,SAAUA,EAAAA,EACVC,eA7De,SAAArB,GAChBtB,EAAS4C,SAAStB,GAGrBV,GAASiC,EAAAA,EAAAA,IAAmBvB,IAF5BV,GAASkC,EAAAA,EAAAA,IAAcxB,GAI1B,IA0DIZ,IAAa,SAACqC,EAAA,EAAD,IACbvC,EAAOgC,OAAS,KAAM,SAACQ,EAAA,EAAD,IACtB7C,IAAa,SAAC8C,EAAA,EAAD,CAAO/B,KAAMV,EAAQkC,SAAUA,EAAAA,KAE7C,SAACQ,EAAA,EAAD,mIAGL,C","sources":["services/others/toast/notificationSetting.js","pages/FavoritePage/FavoritePage.styled.jsx","pages/FavoritePage/FavoritePage.jsx"],"sourcesContent":["export const successSettings = {\n  position: 'bottom-left',\n  autoClose: 1000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: false,\n  progress: undefined,\n};\nexport const warmSetting = {\n  position: 'bottom-left',\n  autoClose: 1000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: false,\n  progress: undefined,\n};\n","import styled from 'styled-components';\nexport const ErrorMsg = styled.p`\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, 50%);\n  font-size: 27px;\n  z-index: 3;\n  font-weight: 500;\n`;\nexport const AppWrapper = styled.div`\n  display: flex;\n\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100vh;\n`;\n","import { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toast, ToastContainer, Flip } from 'react-toastify';\nimport PropTypes from 'prop-types';\n\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { Modal } from 'components/Modal/Modal';\nimport { LoaderSpiner } from 'components/Loader/Loader';\nimport { Footer } from 'components/Footer/Footer';\nimport { ScrollChevron } from 'components/ScrollChevron/ScrollChevron';\n\nimport { addToFavorite, removeFromFavorite } from 'redux/slices/favoriteSlice';\n\nimport rest from 'services/rest';\nimport { warmSetting } from 'services/others/toast/notificationSetting';\nimport download from 'operations/download';\n\nimport { ErrorMsg, AppWrapper } from './FavoritePage.styled';\n\nfunction FavoritePage() {\n  const { unsplash } = rest;\n\n  const favorite = useSelector(state => state.favorite);\n  const openModal = useSelector(state => state.modal);\n  const [error, setError] = useState(false);\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleFovorite = id => {\n    if (!favorite.includes(id)) {\n      dispatch(addToFavorite(id));\n    } else {\n      dispatch(removeFromFavorite(id));\n    }\n  };\n\n  async function renderFavorite() {\n    setIsLoading(true);\n    async function fetch(parsedId) {\n      const imagesResponse = await unsplash.getById(parsedId);\n      const images = await imagesResponse.data;\n      return images;\n    }\n    try {\n      const list = await Promise.all(favorite.map(async id => fetch(id)));\n      const preparedImgs = await list.map(\n        ({ id, urls, alt_description, links, user }) => ({\n          id,\n          urls,\n          alt_description,\n          links,\n          user,\n        })\n      );\n      await setImages(preparedImgs);\n      setIsLoading(false);\n    } catch (error) {\n      console.log(error, `Попробуйте перезагрузить страницу`);\n      toast.warn('Упс... Попробуйте перезагрузить страницу!', warmSetting);\n      setError(error);\n    }\n  }\n  useEffect(() => {\n    renderFavorite();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [favorite]);\n\n  return (\n    <AppWrapper>\n      <ToastContainer\n        transition={Flip}\n        theme=\"dark\"\n        position=\"bottom-right\"\n        autoClose={1000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable={false}\n        pauseOnHover\n      />\n      {error && (\n        <ErrorMsg>Something wrong.. Press F5 and try again. :( </ErrorMsg>\n      )}\n      {images.length > 0 && (\n        <ImageGallery\n          images={images}\n          download={download}\n          handleFovorite={handleFovorite}\n        />\n      )}\n      {isLoading && <LoaderSpiner />}\n      {images.length > 11 && <ScrollChevron />}\n      {openModal && <Modal data={images} download={download} />}\n\n      <Footer>Copyright © Все права защищены.</Footer>\n    </AppWrapper>\n  );\n}\n\nFavoritePage.propTypes = {\n  handleFovorite: PropTypes.func.isRequired,\n};\n\nexport default FavoritePage;\n"],"names":["warmSetting","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ErrorMsg","styled","AppWrapper","unsplash","rest","favorite","useSelector","state","openModal","modal","useState","error","setError","images","setImages","isLoading","setIsLoading","dispatch","useDispatch","fetch","parsedId","getById","imagesResponse","data","Promise","all","map","id","list","urls","alt_description","links","user","preparedImgs","console","log","toast","useEffect","renderFavorite","transition","Flip","theme","newestOnTop","rtl","pauseOnFocusLoss","length","ImageGallery","download","handleFovorite","includes","removeFromFavorite","addToFavorite","Loader","ScrollChevron","Modal","Footer"],"sourceRoot":""}