{"version":3,"file":"static/js/349.8b7de276.chunk.js","mappings":"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","sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","pages/HomePage/HomePage.styled.jsx","components/PaginationBtns/PaginationBtnsl.styled.jsx","components/PaginationBtns/PaginationBtns.jsx","services/others/index.js","services/others/toast/index.js","services/others/toast/success.js","services/others/toast/warning.js","pages/HomePage/HomePage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport img from '../../img/header.jpg';\n\nexport const Header = styled.header`\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n`;\nexport const Container = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n\n  /* max-width: 1600px; */\n\n  justify-content: center;\n  justify-content: space-between;\n  background-color: ${p => p.theme.colors.secondaryBackGroundColor};\n  padding: 200px 50px;\n\n  transition: padding 250ms linear;\n  background-image: linear-gradient(\n      to right,\n      rgba(47, 48, 58, 0.2),\n      rgba(47, 48, 58, 0.2)\n    ),\n    url(${img});\n  content: '';\n  background-size: cover;\n  background-repeat: no-repeat;\n`;\n\nexport const PixabayLogo = styled.img`\n  width: 222px;\n`;\n\nexport const Form = styled.form`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\nexport const Input = styled.input`\n  width: 280px;\n  border: none;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  padding: ${p => p.theme.space[3]}px;\n  transition: width 250ms linear;\n`;\nexport const Button = styled.button`\n  align-items: center;\n  justify-content: center;\n  display: flex;\n  padding: ${p => p.theme.space[3]}px;\n\n  background-color: ${p => p.theme.colors.primaryText};\n  border: none;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  transition: background-color 250ms linear;\n  :hover {\n    background-color: ${p => p.theme.colors.hoverBtnColor};\n  }\n`;\nexport const Logo = styled.img`\n  height: 30px;\n`;\nexport const LinkLogo = styled.a`\n  cursor: pointer;\n`;\n","import React, { useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\n\nimport { Container, Header, Form, Button, Input } from './Searchbar.styled';\nimport { IoIosSearch } from 'react-icons/io';\n\nexport function Searchbar({ onImgsSeach }) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const currentParams = searchParams.get('query') ?? '';\n  const handleSubeventmit = event => {\n    event.preventDefault();\n    const searcForm = event.currentTarget;\n    const query = searcForm.elements.searchQuery.value.toLowerCase();\n    setSearchParams({\n      query,\n    });\n    searcForm.reset();\n  };\n  useEffect(() => {\n    if (currentParams.length) {\n      onImgsSeach(currentParams);\n    }\n  }, [currentParams, onImgsSeach]);\n  return (\n    <Header>\n      <Container>\n        <Form onSubmit={handleSubeventmit}>\n          <Input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            name=\"searchQuery\"\n            placeholder=\"Search images and photos\"\n          />\n          <Button type=\"submit\">\n            <IoIosSearch size={18} fill=\"#444444\" />\n          </Button>\n        </Form>\n      </Container>\n    </Header>\n  );\n}\n\nSearchbar.propTypes = {\n  onImgsSeach: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\nexport const ErrorMsg = styled.p`\n  position: absolute;\n  top: 50%;\n  right: 50%;\n  transform: translate(50%, 50%);\n  font-size: 27px;\n  z-index: 3;\n  font-weight: 500;\n`;\nexport const AppWrapper = styled.div`\n  display: flex;\n\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100vh;\n`;\n","import styled from 'styled-components';\nimport { AiOutlineStepBackward, AiOutlineStepForward } from 'react-icons/ai';\nexport const Wrapper = styled.div`\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 40px;\n  margin-bottom: 15px;\n  max-width: 200px;\n  display: flex;\n\n  justify-content: center;\n  @media screen and (max-width: 450px) {\n    margin-top: 20px;\n  }\n`;\nexport const PrevPageIcon = styled(AiOutlineStepBackward)``;\nexport const NextPageIcon = styled(AiOutlineStepForward)``;\nexport const PrevPageBtn = styled.button`\n  cursor: pointer;\n  transition: transform 0.25s;\n  :hover {\n    transform: scale(1.4);\n  }\n`;\nexport const NextPageBtn = styled.button`\n  cursor: pointer;\n  transition: transform 0.25s;\n  :hover {\n    transform: scale(1.4);\n  }\n`;\n\nexport const CurrentPage = styled.p`\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  PrevPageBtn,\n  NextPageBtn,\n  PrevPageIcon,\n  NextPageIcon,\n  Wrapper,\n  CurrentPage,\n} from './PaginationBtnsl.styled';\nexport const PaginationBtns = ({\n  onLoadMore,\n  currentPage,\n  searchQuery,\n  totalPages,\n}) => {\n  return (\n    <Wrapper className=\"animate__animated animate__pulse\">\n      {currentPage !== 1 && (\n        <PrevPageBtn type=\"button\" onClick={() => onLoadMore(-1)}>\n          <PrevPageIcon size={25} fill=\"#444444\" />\n        </PrevPageBtn>\n      )}\n      {searchQuery && totalPages && currentPage && (\n        <CurrentPage>\n          {currentPage}/{totalPages}\n        </CurrentPage>\n      )}\n\n      {totalPages > currentPage && (\n        <NextPageBtn type=\"button\" onClick={() => onLoadMore(+1)}>\n          <NextPageIcon size={25} fill=\"#444444\" />\n        </NextPageBtn>\n      )}\n    </Wrapper>\n  );\n};\nPaginationBtns.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n  searchQuery: PropTypes.oneOfType([\n    PropTypes.string.isRequired,\n    PropTypes.object.isRequired,\n  ]),\n  totalPages: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n","import toastSettings from './toast';\n\nconst services = { toastSettings };\nexport default services;\n","import success from './success';\nimport warning from './warning';\nconst toastSettings = {\n  success,\n  warning,\n};\nexport default toastSettings;\n","const success = {\n  position: 'bottom-left',\n  autoClose: 1000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: false,\n  progress: undefined,\n};\n\nexport default success;\n","const warning = {\n  position: 'bottom-left',\n  autoClose: 1000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: false,\n  progress: undefined,\n};\n\nexport default warning;\n","import { useEffect, useState, useRef } from 'react';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ErrorMsg, AppWrapper } from './HomePage.styled';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { PaginationBtns } from 'components/PaginationBtns/PaginationBtns';\nimport { Modal } from 'components/Modal/Modal';\nimport { LoaderSpiner } from 'components/Loader/Loader';\nimport { ScrollChevron } from 'components/ScrollChevron/ScrollChevron';\nimport { toast } from 'react-toastify';\nimport { ToastContainer, Flip } from 'react-toastify';\nimport { useSelector } from 'react-redux';\nimport { Footer } from 'components/Footer/Footer';\nimport rest from 'services/rest';\nimport services from 'services/others';\nimport download from 'operations/download';\nimport PropTypes from 'prop-types';\nimport scroll from 'operations/scroll';\nfunction HomePage({ addToFovorite, images, setImages }) {\n  const { unsplash } = rest;\n  const { toastSettings } = services;\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(() => FirstRender() ?? '');\n  const [page, setPage] = useState(1);\n  const openModal = useSelector(state => state.modal);\n  const [totalPages, setTotalPages] = useState(1);\n  const firstRenderPassed = useRef(false);\n\n  async function FirstRender() {\n    async function fetch() {\n      setIsLoading(true);\n      const imagesResponse = await unsplash.getRandom();\n      const images = imagesResponse.data;\n      const preparedImgs = images.map(\n        ({ id, urls, alt_description, links, user }) => ({\n          id,\n          urls,\n          alt_description,\n          links,\n          user,\n        })\n      );\n\n      setImages(prevState => [...preparedImgs]);\n      setIsLoading(false);\n    }\n    try {\n      fetch();\n    } catch (error) {\n      console.log(error, `Попробуйте перезагрузить страницу`);\n      toast.warn(\n        'Упс... Попробуйте перезагрузить страницу!',\n        toastSettings.warning\n      );\n      setError(error);\n    }\n  }\n\n  useEffect(() => {\n    if (!firstRenderPassed.current) {\n      firstRenderPassed.current = true;\n      return;\n    }\n    if (!searchQuery) {\n      return;\n    }\n\n    async function fetch() {\n      try {\n        setIsLoading(true);\n        const imagesResponse = await unsplash.getAll(searchQuery, page);\n        const images = imagesResponse.data.results;\n        const preparedImgs = images.map(\n          ({ id, urls, alt_description, links, user }) => ({\n            id,\n            urls,\n            alt_description,\n            links,\n            user,\n          })\n        );\n        setImages(prevState => [...preparedImgs]);\n        setIsLoading(false);\n        setTotalPages(Math.ceil(imagesResponse.data.total / 40));\n        if (page === 1) {\n          toast.success(\n            `Всего было найдено ${imagesResponse.data.total} картинок.`,\n            toastSettings.success\n          );\n        }\n      } catch (error) {\n        setIsLoading(false);\n      }\n    }\n    try {\n      fetch();\n    } catch (error) {\n      console.log(error, `Попробуйте перезагрузить страницу`);\n      toast.warn(\n        'Упс... Попробуйте перезагрузить страницу!',\n        toastSettings.warning\n      );\n      setError(error);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery, page]);\n\n  const handleFormSubmit = newSearchQuery => {\n    if (newSearchQuery === searchQuery) {\n      return;\n    }\n    if (newSearchQuery !== searchQuery) {\n      setImages([]);\n    }\n    setSearchQuery(newSearchQuery);\n    setPage(1);\n  };\n  const onLoadMore = async value => {\n    setPage(prevState => prevState + value);\n    scroll.goUp();\n  };\n\n  return (\n    <AppWrapper>\n      <Searchbar onImgsSeach={handleFormSubmit} />\n      <ToastContainer\n        transition={Flip}\n        theme=\"dark\"\n        position=\"bottom-right\"\n        autoClose={1000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable={false}\n        pauseOnHover\n      />\n      {error && (\n        <ErrorMsg>Something wrong.. Press F5 and try again. :( </ErrorMsg>\n      )}\n      {images.length > 0 && (\n        <ImageGallery\n          images={images}\n          download={download}\n          addToFovorite={addToFovorite}\n        />\n      )}\n      {isLoading && <LoaderSpiner />}\n      {images.length && (\n        <PaginationBtns\n          onLoadMore={onLoadMore}\n          currentPage={page}\n          images={images}\n          searchQuery={searchQuery}\n          totalPages={totalPages}\n        />\n      )}\n\n      {images.length > 11 && <ScrollChevron />}\n      {openModal && <Modal data={images} download={download} />}\n      <Footer>Copyright © Все права защищены.</Footer>\n    </AppWrapper>\n  );\n}\n\nHomePage.propTypes = {\n  addToFovorite: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      urls: PropTypes.object.isRequired,\n      links: PropTypes.object.isRequired,\n      user: PropTypes.object.isRequired,\n    })\n  ).isRequired,\n  setImages: PropTypes.func.isRequired,\n};\n\nexport default HomePage;\n"],"names":["Header","styled","Container","p","theme","colors","secondaryBackGroundColor","img","Form","Input","space","Button","primaryText","hoverBtnColor","Searchbar","onImgsSeach","useSearchParams","searchParams","setSearchParams","currentParams","get","useEffect","length","onSubmit","event","preventDefault","searcForm","currentTarget","query","elements","searchQuery","value","toLowerCase","reset","type","autoComplete","autoFocus","name","placeholder","size","fill","ErrorMsg","AppWrapper","Wrapper","PrevPageIcon","AiOutlineStepBackward","NextPageIcon","AiOutlineStepForward","PrevPageBtn","NextPageBtn","CurrentPage","fontSizes","m","PaginationBtns","onLoadMore","currentPage","totalPages","className","onClick","toastSettings","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","warning","addToFovorite","images","setImages","unsplash","rest","services","useState","isLoading","setIsLoading","error","setError","FirstRender","setSearchQuery","page","setPage","openModal","useSelector","state","modal","setTotalPages","firstRenderPassed","useRef","fetch","getRandom","imagesResponse","data","preparedImgs","map","id","urls","alt_description","links","user","prevState","console","log","toast","current","getAll","results","Math","ceil","total","scroll","newSearchQuery","transition","Flip","newestOnTop","rtl","pauseOnFocusLoss","ImageGallery","download","Loader","ScrollChevron","Modal","Footer"],"sourceRoot":""}